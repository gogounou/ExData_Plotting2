vehic_scc <- scc[(grep("highway veh", scc$Short.Name, ignore.case=T)), ]
BCvehic_nei <- BCdata[BCdata$SCC %in% vehic_scc$SCC,]
## Sum for on-road emissions
BC_onroad_emissions <- aggregate(BCvehic_nei$Emissions,
by=list(BCvehic_nei$year), FUN="sum")
## Create the plot
png(filename="plot5-2.png", width=480, height=480)
plot(BC_onroad_emissions, type="l", xlab="Year",
main="Motor Vehicle PM2.5 Emissions in Baltimore City, MD - 1999 to 2008",
ylab="Emissions (tons)")
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
## Isolate coal-related pollution sources
coal_scc <- scc[(grep("coal", scc$Short.Name, ignore.case=T)), ]
coal_nei <- nei[nei$SCC %in% coal_scc$SCC,]
## Sum for coal emissions
coalEmissions <- aggregate(coal_nei$Emissions, by=list(coal_nei$year), FUN="sum")
## Create the plot
png(filename="plot4.png", width=480, height=480)
plot(coalEmissions, type="l", xlab="Year",
main="Total Coal-Related PM2.5 Emissions in the US - 1999 to 2008",
ylab="Emissions (tons)")
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510)
BCdata <- nei[nei$fips == "24510", ]
## Isolate vehicle-related pollution sources
vehic_scc <- scc[(grep("highway veh", scc$Short.Name, ignore.case=T)), ]
BCvehic_nei <- BCdata[BCdata$SCC %in% vehic_scc$SCC,]
## Sum for on-road emissions
BC_onroad_emissions <- aggregate(BCvehic_nei$Emissions,
by=list(BCvehic_nei$year), FUN="sum")
## Create the plot
png(filename="plot5_v2.png", width=480, height=480)
plot(BC_onroad_emissions, type="l", xlab="Year",
main="Motor Vehicle PM2.5 Emissions in Baltimore City, MD - 1999 to 2008",
ylab="Emissions (tons)")
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510) and On-Road emissions type
BC_onroad <- nei[nei$fips == "24510" & nei$type == "ON-ROAD", ]
## Sum for on-road emissions
BC_onroad_emissions <- aggregate(BC_onroad$Emissions, by=list(BC_onroad$year), FUN="sum")
## Create the plot
png(filename="plot5.png", width=480, height=480)
plot(BC_onroad_emissions, type="l", xlab="Year",
main="Motor Vehicle PM2.5 Emissions in Baltimore City, 1999 to 2008",
ylab="Emissions (tons)")
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510) and On-Road emissions type
BC_onroad <- nei[nei$fips == "24510" & nei$type == "ON-ROAD", ]
## Sum for on-road emissions
BC_onroad_emissions <- aggregate(BC_onroad$Emissions, by=list(BC_onroad$year), FUN="sum")
## Create the plot
png(filename="plot5.png", width=480, height=480)
plot(BC_onroad_emissions, type="l", xlab="Year",
main="Motor Vehicle PM2.5 Emissions in Baltimore City - 1999 to 2008",
ylab="Emissions (tons)")
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510)
BCdata <- nei[nei$fips == "24510", ]
## Sum for total emissions
BCEmissions <- aggregate(BCdata$Emissions, by=list(BCdata$year), FUN="sum")
## Create the plot
png(filename="plot2.png", width=480, height=480)
plot(BCEmissions, type="l", xlab="Year",
main="Total PM2.5 Emissions in Baltimore City - 1999 to 2008",
ylab="Emissions (tons)")
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510)
BCdata <- nei[nei$fips == "24510", ]
## Load ggplot library and create plot
library(ggplot2)
png(filename='plot3.png', width=480, height=480, units='px')
plot3 <- ggplot(BCdata, aes(year, Emissions, color=type))
plot3 + geom_line(stat="summary", fun.y="sum") +
ylab("Emissions (tons)") +
ggtitle("Total PM2.5 Emissions in Baltimore City - 1999 to 2008")
dev.off()
subs <- nei[nei$fips == "24510" | nei$fips == "06037"]
check <- nei[nei$fips == "24510" | nei$fips == "06037"]
check <- nei[nei$fips == "24510" | nei$fips == "06037",]
check <- check[check$type == "ON-ROAD",]
BCLA_onroad <- nei[(nei$fips == "24510" & nei$type == "ON-ROAD")
| (nei$fips == "06037" & nei$type == "ON-ROAD"), ]
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510) and On-Road emissions type
BCLA_onroad <- nei[(nei$fips == "24510" & nei$type == "ON-ROAD")
| (nei$fips == "06037" & nei$type == "ON-ROAD"), ]
## Load ggplot library and create plot
library(ggplot2)
png(filename='plot6.png', width=480, height=480, units='px')
plot6 <- ggplot(BCLA_onroad, aes(year, Emissions, color=fips))
plot6 + geom_line(stat = "summary", fun.y = "sum") +
ylab("Emissions (tons)") +
ggtitle("Comparison of Total Emissions From Motor\n Vehicle Sources in Baltimore City\n and Los Angeles County from 1999 to 2008") +
scale_color_discrete(name = "Group", label = c("Los Angeles","Baltimore"))
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510) and On-Road emissions type
BCLA_onroad <- nei[(nei$fips == "24510" & nei$type == "ON-ROAD")
| (nei$fips == "06037" & nei$type == "ON-ROAD"), ]
## Load ggplot library and create plot
library(ggplot2)
png(filename='plot6.png', width=480, height=480, units='px')
plot6 <- ggplot(BCLA_onroad, aes(year, Emissions, color=fips))
plot6 + geom_line(stat = "summary", fun.y = "sum") +
ylab("Emissions (tons)") +
ggtitle("Motor Vehicle PM2.5 Emissions in Baltimore City and Los Angeles County - 1999 to 2008") +
scale_color_discrete(name = "Region", label = c("Los Angeles","Baltimore"))
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510) and On-Road emissions type
BCLA_onroad <- nei[(nei$fips == "24510" & nei$type == "ON-ROAD")
| (nei$fips == "06037" & nei$type == "ON-ROAD"), ]
## Load ggplot library and create plot
library(ggplot2)
png(filename='plot6.png', width=480, height=480, units='px')
plot6 <- ggplot(BCLA_onroad, aes(year, Emissions, color=fips))
plot6 + geom_line(stat = "summary", fun.y = "sum") +
ylab("Emissions (tons)") +
ggtitle("Motor Vehicle PM2.5 Emissions in Baltimore City\n and Los Angeles County - 1999 to 2008") +
scale_color_discrete(name = "Region", label = c("Los Angeles","Baltimore"))
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510) and On-Road emissions type
BCLA_onroad <- nei[(nei$fips == "24510" & nei$type == "ON-ROAD")
| (nei$fips == "06037" & nei$type == "ON-ROAD"), ]
## Load ggplot library and create plot
library(ggplot2)
png(filename='plot6.png', width=480, height=480, units='px')
plot6 <- ggplot(BCLA_onroad, aes(year, Emissions, color=fips))
plot6 + geom_line(stat = "summary", fun.y = "sum") +
ylab("Emissions (tons)") +
ggtitle("Motor Vehicle PM2.5 Emissions in Baltimore City, MD\n and Los Angeles County - 1999 to 2008") +
scale_color_discrete(name = "Region", label = c("Los Angeles County","Baltimore City"))
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510) and On-Road emissions type
BC_onroad <- nei[nei$fips == "24510" & nei$type == "ON-ROAD", ]
## Sum for on-road emissions
BC_onroad_emissions <- aggregate(BC_onroad$Emissions, by=list(BC_onroad$year),
FUN="sum")
## Create the plot
png(filename="plot5.png", width=480, height=480)
plot(BC_onroad_emissions, type="l", xlab="Year",
main="Motor Vehicle PM2.5 Emissions in Baltimore City, MD\n 1999 to 2008",
ylab="Emissions (tons)")
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
## Isolate coal-related pollution sources
coal_scc <- scc[(grep("coal", scc$Short.Name, ignore.case=T)), ]
coal_nei <- nei[nei$SCC %in% coal_scc$SCC,]
## Sum for coal emissions
coalEmissions <- aggregate(coal_nei$Emissions, by=list(coal_nei$year), FUN="sum")
## Create the plot
png(filename="plot4.png", width=480, height=480)
plot(coalEmissions, type="l", xlab="Year",
main="Total Coal-Related PM2.5 Emissions in the United States\n1999 to 2008",
ylab="Emissions (tons)")
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510) and On-Road emissions type
BC_onroad <- nei[nei$fips == "24510" & nei$type == "ON-ROAD", ]
## Sum for on-road emissions
BC_onroad_emissions <- aggregate(BC_onroad$Emissions, by=list(BC_onroad$year),
FUN="sum")
## Create the plot
png(filename="plot5.png", width=480, height=480)
plot(BC_onroad_emissions, type="l", xlab="Year",
main="Motor Vehicle PM2.5 Emissions in Baltimore City, MD\n1999 to 2008",
ylab="Emissions (tons)")
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510)
BCdata <- nei[nei$fips == "24510", ]
## Isolate vehicle-related pollution sources
vehic_scc <- scc[(grep("highway veh", scc$Short.Name, ignore.case=T)), ]
BCvehic_nei <- BCdata[BCdata$SCC %in% vehic_scc$SCC,]
## Sum for on-road emissions
BC_onroad_emissions <- aggregate(BCvehic_nei$Emissions,
by=list(BCvehic_nei$year), FUN="sum")
## Create the plot
png(filename="plot5_v2.png", width=480, height=480)
plot(BC_onroad_emissions, type="l", xlab="Year",
main="Motor Vehicle PM2.5 Emissions in Baltimore City\n1999 to 2008",
ylab="Emissions (tons)")
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510)
BCdata <- nei[nei$fips == "24510", ]
## Load ggplot library and create plot
library(ggplot2)
png(filename='plot3.png', width=480, height=480, units='px')
plot3 <- ggplot(BCdata, aes(year, Emissions, color=type))
plot3 + geom_line(stat="summary", fun.y="sum") +
ylab("Emissions (tons)") +
ggtitle("Total PM2.5 Emissions in Baltimore City\n1999 to 2008")
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510)
BCdata <- nei[nei$fips == "24510", ]
## Sum for total emissions
BCEmissions <- aggregate(BCdata$Emissions, by=list(BCdata$year), FUN="sum")
## Create the plot
png(filename="plot2.png", width=480, height=480)
plot(BCEmissions, type="l", xlab="Year",
main="Total PM2.5 Emissions in Baltimore City, MD\n1999 to 2008",
ylab="Emissions (tons)")
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
## Sum for total emissions
totalEmissions <- aggregate(nei$Emissions, by=list(nei$year), FUN="sum")
## Create the plot
png(filename="plot1.png", width=480, height=480)
plot(totalEmissions, type="l", xlab="Year",
main="Total PM2.5 Emissions in the United States\n1999 to 2008",
ylab="Emissions (tons)")
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510)
BCdata <- nei[nei$fips == "24510", ]
## Load ggplot library and create plot
library(ggplot2)
png(filename='plot3.png', width=480, height=480, units='px')
plot3 <- ggplot(BCdata, aes(year, Emissions, color=type))
plot3 + geom_line(stat="summary", fun.y="sum") +
ylab("Emissions (tons)") +
ggtitle("Total PM2.5 Emissions in Baltimore City, MD\n1999 to 2008")
dev.off()
## Check if zip file is already downloaded. If not download to working directory.
zipdl <- "particulate_matter_pollution.zip"
if (!file.exists(zipdl)) {
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
destfile=zipdl, method="curl")
}
## Unzip the file
unzip(zipdl)
## Check to see if data is already loaded. If not, load data.
if (!"nei" %in% ls()) {
nei <- readRDS("summarySCC_PM25.rds")
}
if (!"scc" %in% ls()) {
scc <- readRDS("Source_Classification_Code.rds")
}
##Subset for Baltimore City (fips 24510) and On-Road emissions type
BCLA_onroad <- nei[(nei$fips == "24510" & nei$type == "ON-ROAD")
| (nei$fips == "06037" & nei$type == "ON-ROAD"), ]
## Load ggplot library and create plot
library(ggplot2)
png(filename='plot6.png', width=480, height=480, units='px')
plot6 <- ggplot(BCLA_onroad, aes(year, Emissions, color=fips))
plot6 + geom_line(stat = "summary", fun.y = "sum") +
ylab("Emissions (tons)") +
ggtitle("Motor Vehicle PM2.5 Emissions in Baltimore City, MD\n and Los Angeles County - 1999 to 2008") +
scale_color_discrete(name = "Region", label = c("Los Angeles County","Baltimore City"))
dev.off()
